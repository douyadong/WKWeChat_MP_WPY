"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(exports,"__esModule",{value:!0});var _api=require("./../confs/api.js"),_api2=_interopRequireDefault(_api),apiDataFilter={request:function(t){var e=t.apiPath,a=t.data,o=void 0===a?{}:a,i=t.method,n=void 0===i?"get":i,r=t.dataType,u=void 0===r?"json":r,s=(t.contentType,t.showNavigationBarLoading),c=void 0!==s&&s,p=(t.showCustomLoading,t.tips,t.successCallback),f=t.errorCallback,l=t.completeCallback,d=n.toLowerCase(),g=void 0!==f&&"function"==typeof f?f:(void 0).errorCallback;c&&wx.showNavigationBarLoading();var v={url:(void 0).pathToUrl(e),method:d,data:o,dataType:u,success:function(t){c&&wx.hideNavigationBarLoading(),"200"===t.statusCode.toString()&&t.data.status.toString()==_api2.default.successStatusCode?"function"==typeof p&&p(t.data):g(t.data.message)},fail:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){c&&wx.hideNavigationBarLoading(),"function"==typeof fail&&g(t)}),complete:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){"function"==typeof complete&&l()})};"post"==d&&(v.header={"Content-Type":contenType}),wx.request(v)},errorCallback:function(t){console.log(t)},pathToUrl:function(t){for(var e=t.split("."),a=_api2.default.suffix,o=0;o<e.length;o++)a=a[e[o]];return void 0===a&&(a=""),_api2.default.prefix+"/"+a}};exports.default=apiDataFilter;